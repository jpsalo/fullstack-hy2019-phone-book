(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(40)},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(11),o=n.n(u),c=n(12),i=n(2),l=n(3),m=n.n(l),s="/api/persons",f=function(){return m.a.get(s).then(function(e){return e.data})},d=function(e){return m.a.post(s,e).then(function(e){return e.data})},h=function(e,t){return m.a.put("".concat(s,"/").concat(e),t).then(function(e){return e.data})},v=function(e){return m.a.delete("".concat(s,"/").concat(e)).then(function(e){return e.data})},p=function(e){var t=e.message;return void 0===t?null:r.a.createElement("div",{className:t.type},t.text)},b=function(e){var t=e.personsFilter,n=e.handleFilterChange;return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",r.a.createElement("input",{value:t,onChange:n}))},E=function(e){var t=e.addPerson,n=e.name,a=e.handleNameChange,u=e.number,o=e.handleNumberChange;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:n,onChange:a,required:!0})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:u,onChange:o,required:!0})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},g=function(e){var t=e.persons,n=e.removePerson;return t.map(function(e){return r.a.createElement("div",{key:e.id},e.name," ",e.number,r.a.createElement("button",{onClick:function(){return n(e.id)}},"poista"))})},j=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],u=t[1],o=Object(a.useState)(""),l=Object(i.a)(o,2),m=l[0],s=l[1],j=Object(a.useState)(""),w=Object(i.a)(j,2),C=w[0],O=w[1],y=Object(a.useState)(""),k=Object(i.a)(y,2),P=k[0],x=k[1],L=Object(a.useState)(),N=Object(i.a)(L,2),S=N[0],F=N[1];Object(a.useEffect)(function(){f().then(function(e){u(e)})},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Puhelinluettelo"),r.a.createElement(p,{message:S}),r.a.createElement(b,{personsFilter:P,handleFilterChange:function(e){x(e.target.value)}}),r.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),r.a.createElement(E,{addPerson:function(e){e.preventDefault();var t=m.toLowerCase(),a=n.find(function(e){return e.name.toLowerCase()===t});if(a){if(window.confirm("".concat(m," on jo olemassa. Korvataanko vanha numero uudella?"))){var r=Object(c.a)({},a,{number:C});h(r.id,r).then(function(e){u(n.map(function(t){return t.id!==e.id?t:e})),s(""),O(""),F({text:"Muokattiin ".concat(e.name),type:"success"}),setTimeout(function(){F({})},5e3)}).catch(function(e){F({text:"Henkil\xf6 ".concat(a.name," oli jo poistettu"),type:"error"}),setTimeout(function(){F({})},5e3)})}}else d({name:m,number:C}).then(function(e){u(n.concat(e)),s(""),O(""),F({text:"Lis\xe4ttiin ".concat(e.name),type:"success"}),setTimeout(function(){F({})},5e3)})},name:m,handleNameChange:function(e){s(e.target.value)},number:C,handleNumberChange:function(e){O(e.target.value)}}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(g,{persons:function(){if(P){var e=P.toLowerCase();return n.filter(function(t){return t.name.toLowerCase().includes(e)})}return n}(),removePerson:function(e){var t=n.find(function(t){return t.id===e});window.confirm("Poistetaanko ".concat(t.name,"?"))&&v(e).then(function(){u(n.filter(function(t){return t.id!==e})),F({text:"Poistettiin ".concat(t.name),type:"success"}),setTimeout(function(){F({})},5e3)})}}))};n(38);o.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.f4b4e7db.chunk.js.map